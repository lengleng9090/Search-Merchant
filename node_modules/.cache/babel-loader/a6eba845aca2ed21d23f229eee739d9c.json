{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/YWC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/User/Desktop/YWC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/User/Desktop/YWC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/User/Desktop/YWC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/User/Desktop/YWC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/User/Desktop/YWC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/User/Desktop/YWC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import Filter from'./component/Filter';import Search from'./component/Search';import Tab from'./component/Tab';import ShopCard from'./component/ShopCard';var Main=/*#__PURE__*/function(_React$Component){_inherits(Main,_React$Component);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.state={value:null,subValue:null,searchValue:\"default\",data:null,loading:true};_this.onValueConfirm=_this.onValueConfirm.bind(_assertThisInitialized(_this));_this.onSubValueConfirm=_this.onSubValueConfirm.bind(_assertThisInitialized(_this));_this.onSearchValue=_this.onSearchValue.bind(_assertThisInitialized(_this));return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://panjs.com/ywc18.json\";_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;this.setState({data:data,loading:false});case 8:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"onSubValueConfirm\",value:function onSubValueConfirm(order){console.log(\"กรอง : \"+order);this.setState({subValue:order});}},{key:\"onValueConfirm\",value:function onValueConfirm(order){console.log(\"ประเภทร้านค้า : \"+order);this.setState({value:order});}},{key:\"onSearchValue\",value:function onSearchValue(value){console.log(\"ค้นหา :\"+value);this.setState({searchValue:value});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"fluid-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row-1\",children:/*#__PURE__*/_jsx(Search,{onSearchValue:this.onSearchValue})}),/*#__PURE__*/_jsx(\"div\",{className:\"row-2\",children:/*#__PURE__*/_jsx(Tab,{})}),this.state.value==null?/*#__PURE__*/_jsx(\"div\",{className:\"row offset-1\",style:{padding:20},children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E1C\\u0E25\\u0E01\\u0E32\\u0E23\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32 \\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"row offset-1\",style:{padding:20},children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u0E1C\\u0E25\\u0E01\\u0E32\\u0E23\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32 \",this.state.value]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(Filter,{onValueConfirm:this.onValueConfirm,onSubValueConfirm:this.onSubValueConfirm})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:!this.state.data||this.state.loading?null:this.state.data.merchants.map(function(merchant){return _this2.state.searchValue===\"default\"||merchant.shopNameTH.toLowerCase().includes(_this2.state.searchValue.toLowerCase())?/*#__PURE__*/_jsx(ShopCard,{merchant:merchant},merchant.shopNameTH):null;})})})]})]});}}]);return Main;}(React.Component);export default Main;","map":{"version":3,"sources":["C:/Users/User/Desktop/YWC/src/Main.js"],"names":["React","Filter","Search","Tab","ShopCard","Main","props","state","value","subValue","searchValue","data","loading","onValueConfirm","bind","onSubValueConfirm","onSearchValue","url","fetch","response","json","setState","order","console","log","padding","merchants","map","merchant","shopNameTH","toLowerCase","includes","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Filter from './component/Filter';\r\nimport Search from './component/Search';\r\nimport Tab from './component/Tab';\r\nimport ShopCard from './component/ShopCard';\r\nclass Main extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            value: null,\r\n            subValue:null,\r\n            searchValue:\"default\",\r\n            data:null,\r\n            loading:true\r\n        };\r\n        this.onValueConfirm = this.onValueConfirm.bind(this);\r\n        this.onSubValueConfirm = this.onSubValueConfirm.bind(this);\r\n        this.onSearchValue = this.onSearchValue.bind(this);\r\n    }\r\n    async componentDidMount(){\r\n        const url = \"https://panjs.com/ywc18.json\";\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        this.setState({ data:data, loading:false});\r\n    }\r\n    \r\n    onSubValueConfirm(order){\r\n        console.log(\"กรอง : \"+ order);\r\n        this.setState({subValue: order});\r\n    }\r\n    onValueConfirm(order) {\r\n        console.log(\"ประเภทร้านค้า : \"+ order);\r\n        this.setState({value: order});\r\n    }\r\n    onSearchValue(value){\r\n        console.log(\"ค้นหา :\"+value);\r\n        this.setState({searchValue: value});\r\n    }\r\n\r\n    render(){\r\n        return(\r\n    <div className=\"fluid-container\">\r\n      <div className=\"row-1\" ><Search onSearchValue={this.onSearchValue} /></div>\r\n      <div className=\"row-2\"><Tab /></div>\r\n      {this.state.value == null ? \r\n      (<div className=\"row offset-1\" style={{padding:20}}><strong>ผลการค้นหา ทั้งหมด</strong></div>)\r\n      :\r\n      (<div className=\"row offset-1\" style={{padding:20}}><strong>ผลการค้นหา {this.state.value}</strong></div>)\r\n    }\r\n      <div className=\"row\">\r\n          <div className=\"col-4\"><Filter onValueConfirm={this.onValueConfirm} onSubValueConfirm={this.onSubValueConfirm} /></div>\r\n          <div className=\"col\">\r\n                <div className=\"row\">\r\n                {!this.state.data ||this.state.loading ?(null) \r\n                :(this.state.data.merchants.map((merchant)=>\r\n                this.state.searchValue === \"default\" || merchant.shopNameTH.toLowerCase().includes(this.state.searchValue.toLowerCase()) ?\r\n                (<ShopCard merchant={merchant} key={merchant.shopNameTH} />):(null)\r\n                \r\n                )\r\n                )}\r\n                </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n        );\r\n    }\r\n}\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}